<header class="header">
  <div class="header__top">
    <div class="container header__top-inner">
      <span class="eyebrow">{{ section.settings.top_label }}</span>
      <div class="header__marquee" aria-label="Offres clés">
        <span data-marquee data-speed="16">{{ section.settings.top_message }}</span>
      </div>
      {% if section.settings.top_link != blank %}
        <a class="btn btn-ghost" href="{{ section.settings.top_link }}">{{ section.settings.top_link_text }}</a>
      {% endif %}
    </div>
  </div>
  <div class="container header__main">
    <button class="mobile-toggle" aria-label="Ouvrir le menu" aria-expanded="false">
      <span aria-hidden="true"></span>
    </button>
    <a href="/" class="logo">
      {% if settings.logo %}
        <img src="{{ settings.logo | image_url: width: 120 }}" alt="{{ shop.name }}" loading="lazy">
      {% endif %}
      <span>{{ settings.logo_text | default: shop.name }}</span>
    </a>
    <nav class="nav" aria-label="Menu principal">
      {% for link in linklists.main-menu.links %}
        <a href="{{ link.url }}">{{ link.title }}</a>
      {% else %}
        <a href="/collections/all">Boutique</a>
        <a href="/collections/nouveautes">Nouveautés</a>
        <a href="/pages/contact">Contact</a>
      {% endfor %}
    </nav>
    <div class="header__actions">
      {% if settings.enable_search %}
        <a class="header__icon-btn" href="/search" aria-label="Rechercher">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M15.5 14h-.8l-.3-.3a6.5 6.5 0 1 0-.9.9l.3.3v.8l5 5 1.5-1.5Zm-6 0a4.5 4.5 0 1 1 0-9 4.5 4.5 0 0 1 0 9Z"/></svg>
        </a>
      {% endif %}
      <a class="header__icon-btn" href="/cart" aria-label="Panier">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="m6.3 6 1 9h9.4l1-9Zm-2-3h15.4l-1.5 14H7.8l-1.5-14ZM9 21a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm9 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>
      </a>
      <div class="header__cta">
        <a class="btn btn-primary" href="{{ section.settings.cta_link }}">{{ section.settings.cta_text }}</a>
      </div>
      {% render 'social-links', class: 'header__social' %}
    </div>
    <div class="mobile-menu" aria-label="Menu mobile">
      {% for link in linklists.main-menu.links %}
        <a href="{{ link.url }}">{{ link.title }}</a>
      {% else %}
        <a href="/collections/all">Boutique</a>
        <a href="/collections/nouveautes">Nouveautés</a>
        <a href="/pages/contact">Contact</a>
      {% endfor %}
    </div>
  </div>
</header>

{% schema %}
{
  "name": "En-tête outdoor",
  "settings": [
    {"type": "text", "id": "top_label", "label": "Label de confiance", "default": "Outdoor certifié"},
    {"type": "text", "id": "top_message", "label": "Message défilant", "default": "Livraison offerte dès 60€ • Retours 30 jours • Support réactif 7/7 • Paiements sécurisés"},
    {"type": "url", "id": "top_link", "label": "Lien du bouton"},
    {"type": "text", "id": "top_link_text", "label": "Texte du bouton", "default": "Offres du jour"},
    {"type": "text", "id": "cta_text", "label": "Texte CTA principal", "default": "Découvrir les best-sellers"},
    {"type": "url", "id": "cta_link", "label": "Lien CTA principal", "default": "/collections/all"}
  ],
  "presets": [{"name": "En-tête outdoor"}]
}
{% endschema %}
